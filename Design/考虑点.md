#考虑点

##锁
锁将使用可替换的机制，目前将使用Scope锁
锁需要支持短时间的自旋，使用原子操作实现，自旋失败后才切换线程

##发送
发送将使用队列发送，其他线程将需要发送的数据送入队列(提供接口)，发送应该顺序发送，所以一次只有一个线程控制发送队列，需要调查是否可以使用asio的方式唤醒线
>发送队列满了怎么办？
>>配置成可以选择丢弃或者阻塞？

##线程
网络适配器可以使用多个线程运行ioservice.run

##连接池管理
将使用share_ptr来管理每个连接，每个连接应该持有自己的weak_ptr，当要执行连接自己的代码时，将weak_ptr升级成share_ptr，然后执行，避免发生析构后再无效的内存区域上运行代码

##关于发送接收的文本协议
需要可选支持加密
需要支持域名解析
每个消息
>第一个字节表示自己的的消息的长度
>结尾字节方案
>>特定字节？似乎不好
>>使用数据包的每个字节相加起来的值除以某个值的余数存到结尾？
将正确的消息存到一个接收队列
>接收队列满了怎么办？
>>配置成可以选择丢弃或者阻塞？
>>派生线程处理数据包？
一(多)个线程调用回调处理函数处理数据包，回调处理函数应尽可能短

##希望有关于线程池的动态增加或减小功能